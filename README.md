# Book-Android-Performance
Android性能优化

### 性能优化中的难题

#### 性能表现差

* App启动慢、卡顿、丢帧
* 内存占用高、拉动频繁
* 耗电、网络请求慢
* 崩溃率、异常率高(稳定性)

#### 线上问题无从追查

* 线上问题没有反馈，出现异常不知道
* 如何复原"案发"现场
* 如何快速度修复

#### 性能优化的长期开销大

如果在每个版本中都花费大量的精力来跟踪性能问题，长期来看，团队消费很大。

* 如何扼杀问题于萌芽
* 优化效果如何长期保持

### 性能优化方向 

* 性能表现好
* 线上问题易追查
* 长期投入小

### 性能优化解决方案

#### 项目初期

* 只关心崩溃率、不采集性能数据
* 没有性能检测、优化方案
* 没有排查问题手段

#### 项目壮大期

* 指标采集，不够全及深入
* 接入成熟APM，排查手段单一
* 线下检测、优化，方案不成型

#### 项目成熟型

* 重点关注性能问题，数据丰富，手段多样化

* 线上、线下一整套完善解决方案

  > 误区：对线上不重视；线上线下的表现是不一样的，线下测试不能完全覆盖线上的场景；
  >
  > 侧重点：线下预防，线上监控；
  >
  > 方案不同：线下可用黑科技 ；

* 自建APM，新产品可快速接入

  > 成熟APM通用，但不满足个性化需求；
  >
  > 外部APM与内部系统难打通，带的时间成本增高；
  >
  > 数据掌握到自已手中；

### 三方平台

#### Crash收集平台

* Bugly
  * 数据采集、上报成功率高；
  * 包含Java、Native崩溃；
  * 建议项目初期接入；

#### APM平台

* 听云(门槛收费)
  * 通用的性能解决方案，数据采集完善；
  * 方便接入，但不能满足个性化需求，数据隐患；
  * 建议性能方案不完善的阶段接入

####自建解决方案

* 贴合自身业务特点，满足定制化需求；
* 数据安全
* 节约成本，很多成熟的三方方案按门槛收费